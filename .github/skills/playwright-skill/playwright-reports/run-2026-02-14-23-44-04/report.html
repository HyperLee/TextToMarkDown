
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playwright è‡ªå‹•åŒ–æ¸¬è©¦å ±å‘Š</title>
    <!-- Highlight.js èªæ³•é«˜äº® -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; line-height: 1.6; color: #333; max-width: 1200px; margin: 0 auto; padding: 20px; background-color: #f4f7f6; }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        .section { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { color: #2980b9; border-left: 5px solid #3498db; padding-left: 10px; margin-top: 0; }
        .summary-box { display: flex; gap: 20px; margin-bottom: 20px; }
        .summary-item { flex: 1; background: #ebf5fb; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #d6eaf8; }
        .summary-label { font-size: 14px; color: #5dade2; font-weight: bold; display: block; }
        .summary-value { font-size: 18px; color: #2e86c1; font-weight: bold; }
        
        /* æ¸¬è©¦è¨ˆç•«å€å¡Š */
        .test-plan { background: #fdfcfe; border: 1px solid #dcdde1; border-left: 6px solid #6c5ce7; padding: 20px; border-radius: 8px; margin-bottom: 25px; }
        .test-plan-header { font-weight: bold; color: #6c5ce7; margin-bottom: 12px; font-size: 18px; border-bottom: 1px dashed #dcdde1; padding-bottom: 8px; }
        .test-plan-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .test-plan-item { background: #fff; padding: 12px; border-radius: 6px; border: 1px solid #f1f2f6; }
        .test-plan-label { font-weight: bold; color: #2f3542; margin-bottom: 5px; display: block; font-size: 14px; }
        .test-plan-content { font-size: 13px; white-space: pre-wrap; color: #57606f; }

        .log-container { background: #2d3436; color: #dfe6e9; padding: 15px; border-radius: 8px; font-family: "Consolas", monospace; font-size: 13px; max-height: 300px; overflow-y: auto; white-space: pre-wrap; }
        .ai-insight { background: #fffdf0; border: 1px solid #ffeaa7; border-left: 6px solid #fdcb6e; padding: 20px; border-radius: 8px; margin-bottom: 25px; color: #2d3436; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .ai-insight-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; color: #e17055; font-weight: bold; font-size: 18px; border-bottom: 1px dashed #fdcb6e; padding-bottom: 8px; }
        .ai-insight-content { line-height: 1.8; font-size: 15px; }
        .ai-insight-content strong { color: #d63031; }
        .error-analysis { background: #fff5f5; border: 1px solid #feb2b2; border-left: 6px solid #f56565; padding: 20px; border-radius: 8px; margin-bottom: 25px; color: #2d3436; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .error-header { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; color: #c53030; font-weight: bold; font-size: 18px; border-bottom: 1px dashed #feb2b2; padding-bottom: 8px; }
        .error-content { line-height: 1.6; font-size: 14px; }
        .error-content b { color: #c53030; }
        .error-attribution { margin: 10px 0; padding: 10px; border-radius: 4px; font-weight: bold; display: inline-block; }
        .attr-site { background: #fff5f5; color: #c53030; border: 1px solid #feb2b2; }
        .attr-script { background: #ebf8ff; color: #2b6cb0; border: 1px solid #bee3f8; }
        .error-code-block { background: #1a202c; color: #e2e8f0; padding: 15px; border-radius: 6px; font-family: "Consolas", monospace; font-size: 13px; margin: 10px 0; overflow-x: auto; white-space: pre; }
        .test-code-block { background: #1a202c; border-radius: 8px; margin-top: 15px; border: 1px solid #4a5568; }
        .test-code-header { background: #2d3748; color: #e2e8f0; padding: 8px 15px; font-size: 14px; font-weight: bold; border-top-left-radius: 8px; border-top-right-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .error-suggestion { margin-top: 10px; padding: 10px; background: #fff; border-radius: 4px; border: 1px solid #feb2b2; color: #742a2a; font-size: 13px; }
        .media-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .media-item { border: 1px solid #ddd; border-radius: 4px; overflow: hidden; background: #fff; }
        .media-item img, .media-item video { width: 100%; height: auto; display: block; }
        .media-caption { padding: 10px; font-size: 14px; background: #eee; border-top: 1px solid #ddd; word-break: break-all; }
        .no-data { text-align: center; color: #7f8c8d; font-style: italic; }
        .timestamp { text-align: right; font-size: 12px; color: #95a5a6; }
        .nav-link { display: inline-block; margin-bottom: 10px; color: #3498db; text-decoration: none; font-weight: bold; }
        .nav-link:hover { text-decoration: underline; }
        .status-success { color: #27ae60; }
        .status-error { color: #c0392b; }

        /* æ­¥é©Ÿè©³æƒ…å€å¡Š */
        .steps-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px; }
        .steps-column { background: #fff; padding: 15px; border-radius: 8px; border: 1px solid #dcdde1; }
        .steps-header { font-weight: bold; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 2px solid; }
        .steps-header.success { color: #27ae60; border-color: #27ae60; }
        .steps-header.error { color: #c0392b; border-color: #c0392b; }
        .step-item { padding: 12px; border-bottom: 1px solid #f1f2f6; font-size: 14px; }
        .step-item:last-child { border-bottom: none; }
        .step-main { display: flex; align-items: center; gap: 8px; font-weight: bold; margin-bottom: 4px; }
        .step-details { padding-left: 24px; font-size: 12px; color: #636e72; line-height: 1.4; }
        .step-detail-row { margin-top: 2px; display: flex; gap: 4px; }
        .step-detail-label { font-weight: bold; color: #2d3436; min-width: 40px; }
    </style>
</head>
<body>
    <a href="../latest-report.html" class="nav-link">â† è¿”å›å ±å‘Šåˆ—è¡¨ / æœ€æ–°å ±å‘Š</a>
    <h1>ğŸ­ Playwright è‡ªå‹•åŒ–æ¸¬è©¦å ±å‘Š</h1>
    
    <div class="section">
        <h2>ç¸½çµèªªæ˜ (Summary)</h2>
        
        
        
        <div class="summary-box">
            <div class="summary-item">
                <span class="summary-label">åŸ·è¡Œç‹€æ…‹</span>
                <span class="summary-value status-success">æˆåŠŸ</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">åŸ·è¡Œè€—æ™‚</span>
                <span class="summary-value">2.25 ç§’</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">å¤šæ­¥é©Ÿçµ±è¨ˆ</span>
                <span class="summary-value">
                    <span class="status-success">0 éæ¸¬</span> / 
                    <span class="status-error">0 å¤±æ•—</span> (å…± 0 æ­¥)
                </span>
            </div>
            <div class="summary-item">
                <span class="summary-label">åª’é«”æª”æ¡ˆ</span>
                <span class="summary-value">0 æˆªåœ– / 1 å½±ç‰‡</span>
            </div>
        </div>

        
        <div class="test-code-block">
            <div class="test-code-header">
                <span>ğŸ’» æœ¬æ¬¡åŸ·è¡Œæ¸¬è©¦ç¨‹å¼ç¢¼ (Test Code)</span>
                <span style="font-weight: normal; font-size: 12px; color: #a0aec0;">JavaScript / Playwright</span>
            </div>
            <pre style="margin: 0; padding: 15px; overflow-x: auto;"><code class="language-javascript">
const TARGET_URL = 'http://localhost:5000';

const browser = await helpers.launchBrowser();
const context = await helpers.createContext(browser);
const page = await helpers.createPage(context);

// Capture console messages
const consoleLogs = [];
page.on('console', msg => consoleLogs.push(msg.type() + ': ' + msg.text()));
page.on('pageerror', err => consoleLogs.push('PAGE_ERROR: ' + err.message));

await page.goto(TARGET_URL, { waitUntil: 'networkidle' });
await page.waitForTimeout(1000);

const result = await page.evaluate(() => {
  return {
    hasTurndown: typeof TurndownService !== 'undefined',
    hasTurndownOnWindow: typeof window.TurndownService !== 'undefined',
    hasGfm: typeof turndownPluginGfm !== 'undefined',
    scripts: Array.from(document.querySelectorAll('script')).map(s => s.src || 'inline'),
    converterExists: typeof window.MarkdownConverter !== 'undefined',
    converterHtml: window.MarkdownConverter ? typeof window.MarkdownConverter.convertHtml : 'N/A'
  };
});

console.log('Browser state:', JSON.stringify(result, null, 2));
console.log('Console logs:', consoleLogs.join('\n'));

// Try actual HTML conversion
const htmlResult = await page.evaluate(() => {
  if (!window.MarkdownConverter) return 'No MarkdownConverter';
  try {
    return window.MarkdownConverter.convertHtml('<h1>Test</h1><p><strong>Bold</strong> text</p>');
  } catch(e) {
    return 'Error: ' + e.message;
  }
});
console.log('HTML conversion result:', htmlResult);

await browser.close();
</code></pre>
        </div>
        

        <div class="steps-grid">
            <div class="steps-column">
                <div class="steps-header success">âœ… å·²éæ¸¬æ­¥é©Ÿ (0)</div>
                <div class="no-data">å°šæœªæœ‰æˆåŠŸçš„æ­¥é©Ÿ</div>
            </div>
            <div class="steps-column">
                <div class="steps-header error">âŒ å¤±æ•—æ­¥é©Ÿ (0)</div>
                <div class="no-data">ç›®å‰ç„¡å¤±æ•—æ­¥é©Ÿ</div>
            </div>
        </div>

        <h3>åŸ·è¡Œæ—¥èªŒ</h3>
        <div class="log-container">ğŸ­ Playwright æŠ€èƒ½ - é€šç”¨åŸ·è¡Œå™¨

âš¡ æ­£åœ¨åŸ·è¡Œå…§åµŒç¨‹å¼ç¢¼
ğŸš€ é–‹å§‹è‡ªå‹•åŒ–æµç¨‹...

Browser state: {
  "hasTurndown": false,
  "hasTurndownOnWindow": false,
  "hasGfm": true,
  "scripts": [
    "http://localhost:5000/lib/jquery/dist/jquery.min.o1o13a6vjx.js",
    "http://localhost:5000/lib/bootstrap/dist/js/bootstrap.bundle.min.493y06b0oq.js",
    "http://localhost:5000/lib/turndown/turndown.y9e9adodtg.js",
    "http://localhost:5000/lib/turndown/turndown-plugin-gfm.yj2sc17mxw.js",
    "http://localhost:5000/js/site.xtxxf3hu2r.js",
    "http://localhost:5000/js/app-init.901kj7z8nd.js"
  ],
  "converterExists": true,
  "converterHtml": "function"
}
Console logs: PAGE_ERROR: domino is not defined
HTML conversion result: <h1>Test</h1><p><strong>Bold</strong> text</p></div>
    </div>

    <div class="section">
        <h2>ğŸ“¸ è¢å¹•æˆªåœ–</h2>
        <p class="no-data">å°šæœªæ“·å–ä»»ä½•æˆªåœ–</p>
    </div>

    <div class="section">
        <h2>ğŸ¥ éŒ„å½±ç´€éŒ„</h2>
        
        <div class="media-grid">
            
            <div class="media-item">
                <video controls>
                    <source src="videos/914f70cca154333f06f544f05d0c1b13.webm" type="video/webm">
                    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ¨™ç±¤ã€‚
                </video>
                <div class="media-caption">914f70cca154333f06f544f05d0c1b13.webm</div>
            </div>
        </div>
        
    </div>

    <p class="timestamp">ç”¢ç”Ÿæ™‚é–“ï¼š2026/2/14 ä¸‹åˆ11:44:10</p>
    <p class="timestamp">å ±å‘Šç›®éŒ„ï¼šC:\GitHubFolder\TextToMarkDown\.github\skills\playwright-skill\playwright-reports\run-2026-02-14-23-44-04</p>
    <script>hljs.highlightAll();</script>
</body>
</html>
  